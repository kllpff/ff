#!/usr/bin/env php
<?php

/**
 * FF Framework - Artisan Console
 * 
 * This file is the entry point for all console commands
 */

// Load composer autoloader
require __DIR__ . '/vendor/autoload.php';

// Load environment variables
if (file_exists(__DIR__ . '/.env')) {
    $dotenv = \Dotenv\Dotenv::createImmutable(__DIR__);
    $dotenv->load();
}

// Define base path
define('BASE_PATH', __DIR__);

// Load helper functions
if (file_exists(__DIR__ . '/framework/helpers.php')) {
    require_once __DIR__ . '/framework/helpers.php';
}

// Create application instance
$app = new \FF\Framework\Core\Application(__DIR__);

// Make it available globally
$GLOBALS['application'] = $app;

// Bootstrap the application
$app->bootstrap();

// Create CLI instance
$cli = new \FF\Framework\Console\CLI();

// Run the command
exit($cli->run());